# Prioritize Planning with Safe Interval Path Planning for Multi-Agent Path Finding with Asynchronous Actions

This repository provides an implementation of Prioritize Planning with Safe Interval Path Planning for Multi-Agent Path Finding with Asynchronous Actions (PP_SIPP), an naive adaption of SIPP to MAPF-AA.

The code is distributed for academic and non-commercial use.

## Requirements

* C++ compiler supporting C++11 or later
* CMake (version 2.8.3 or later)
* Make

## Project Structure

* `data/` - Contains a few input files for the toy examples
* `demo/` - Contains a few input files for the command example cases
* `include/` - Contains all header files.
* `source/` - Contains all source files corresponding to the headers.
* `test/` - Contains toy example file that shows how to use the code.


## Installation and Usage

1. Clone this repository.
2. `mkdir build/`
3. `cmake -DCMAKE_BUILD_TYPE=Release -B build`
3. `cd build/`
4. `make`
5. Run the program with the following command:
   ```sh
   ./PP_SIPP <map_path> <scen_path> <duration_path> <runtime>
    ```
   To run the program with 10 agents on the specified map and scenario files, and save the results to `result.xml` with a maximum runtime of 30 seconds and the swap feature enabled, use the following command:
   ```sh
   ./PP_SIPP ../demo/warehouse-10-20-10-2-1.map ../demo/warehouse-10-20-10-2-1-random-1.scen ../demo/duration.txt 30
   ```
    

#### Command Line Arguments
- `<map_path>`: The path to the map file.
- `<scen_path>`: The path to the scenario file.
- `<duration_path>`: The path to the duration file where the durations for each agent is written.
- `<runtime>`: The maximum runtime for the algorithm in seconds.

#### Example 
To run the toy example, use the following command:
```sh
./test_toyexample
```

To run a toy example

## Visualization

For visualization of the results, you can use the [Visualizer](https://github.com/ShuaiZhou302/Continuous-MAPF_visualizer).

This Qt framework-based visualizer allows you to load and display the output files generated by this project.


## References

The original paper of SIPP is:

* [1] Phillips, M.; and Likhachev, M. 2011. Sipp: Safe interval path planning for dynamic environments. In 2011 IEEE International Conference on Robotics and Automation, 5628â€“5635. IEEE. [[Paper](https://www.cs.cmu.edu/~maxim/files/sipp_icra11.pdf)]
  
## License

This code is distributed under the MIT License. See the LICENSE file for details.
